# ==============================================================================
# PARKBOARD - ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to git!
#
# Database Configuration (ROOT APPROVED 2025-10-31):
# Use DATABASE_TARGET to easily switch between databases for beta testing:
#   - local: Local PostgreSQL (development)
#   - neon: Neon serverless Postgres (beta testing)
#   - supabase: Supabase (production)
# ==============================================================================

# ==============================================================================
# DATABASE SELECTION (For Beta Testing - ROOT APPROVED 2025-10-31)
# ==============================================================================
# Options: "local" | "neon" | "supabase"
# This allows Sister Elena to easily switch from local to Neon without code changes
#
# Usage:
#   DATABASE_TARGET=local   → Uses DB_* variables below
#   DATABASE_TARGET=neon    → Uses NEON_CONNECTION_STRING below
#   DATABASE_TARGET=supabase → Uses NEXT_PUBLIC_SUPABASE_* variables below
#
# Implementation: ~50 lines in lib/db/connection.ts (10 minutes)
DATABASE_TARGET=local

# ==============================================================================
# OPTION 1: SUPABASE (Recommended for Production)
# ==============================================================================
# Get these values from: https://supabase.com/dashboard
# Project Settings → API
#
# When these variables are set, the app will use Supabase:

# Supabase Project URL (required)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anonymous Key (required for client-side operations)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Supabase Service Role Key (required for server-side operations)
# ⚠️  KEEP THIS SECRET - Never expose to client
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ==============================================================================
# OPTION 2: NEON (Serverless PostgreSQL)
# ==============================================================================
# Get your connection string from: https://neon.tech/dashboard
# Database → Connection Details → Connection String
#
# ⚠️  SECURITY WARNING: These connection strings contain credentials!
# ⚠️  NEVER commit .env.local with actual credentials to git
#
# When DATABASE_TARGET=neon, the app will use the NEON_CONNECTION_STRING:

# Neon Connection String (used when DATABASE_TARGET=neon)
# Copy the appropriate connection string below to your .env.local

# PRODUCTION (Primary branch):
# NEON_CONNECTION_STRING=postgresql://neondb_owner:npg_Hp6ndal4GoBs@ep-wispy-smoke-a1pj15lm-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# DEVELOPMENT (Development branch):
# NEON_CONNECTION_STRING=postgresql://neondb_owner:npg_Hp6ndal4GoBs@ep-snowy-dawn-a1op5rmw-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# Legacy variable name (for backward compatibility):
# DATABASE_URL=postgresql://user:password@ep-xxx.neon.tech/dbname?sslmode=require

# ==============================================================================
# OPTION 3: LOCAL POSTGRESQL (Development)
# ==============================================================================
#
# You can configure local PostgreSQL using EITHER:
#   A. CONNECTION STRING (DATABASE_URL)
#   B. INDIVIDUAL VARIABLES (DB_*)
#
# Option 3A: CONNECTION STRING (simpler)
# DATABASE_URL=postgresql://postgres:password@localhost:5432/parkboard_db
#
# Option 3B: INDIVIDUAL VARIABLES (more explicit)
DB_USER=ltpt420
DB_PASSWORD=mannersmakethman
DB_HOST=localhost
DB_PORT=5432
DB_NAME=parkboard_db

# ==============================================================================
# AUTHENTICATION (If using Supabase Auth)
# ==============================================================================
# These are optional OAuth providers
# Configure in Supabase Dashboard → Authentication → Providers

# Google OAuth (optional)
# Get from: https://console.cloud.google.com
# NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth (optional)
# Get from: https://developers.facebook.com
# NEXT_PUBLIC_FACEBOOK_APP_ID=your-facebook-app-id
# FACEBOOK_APP_SECRET=your-facebook-app-secret

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================

# Application URL (for OAuth callbacks)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment
NODE_ENV=development

# ==============================================================================
# DEV MODE AUTHENTICATION (Development Only - Minimal MVP Testing)
# ==============================================================================
# ⚠️ SECURITY WARNING: NEVER set this to true in production!
# This bypasses all authentication. Local development only.
#
# Enables test user selector for MVP beta testing without Supabase.
# Approved by: Root instance 2025-10-31 (shared-alerts.md)
#
# When true:
#   - Shows test user dropdown on landing page
#   - Allows selecting test users (Maria, Juan, Elena, Ben)
#   - Bypasses Supabase authentication entirely
#   - Yellow banner displays "DEV MODE - Test Authentication Active"
#
# Production Safety:
#   - Automatically disabled when NODE_ENV=production
#   - Console error if enabled in production build
#   - Component hides when DEV_MODE_AUTH=false
#
# For production deployment: SET THIS TO FALSE!
NEXT_PUBLIC_DEV_MODE_AUTH=true

# ==============================================================================
# TESTING (Optional)
# ==============================================================================
# These are only needed for E2E tests

# Test user credentials (for automated tests)
# TEST_USER_EMAIL=test@parkboard.test
# TEST_USER_PASSWORD=test123456

# ==============================================================================
# MONITORING & LOGGING (Optional - Future Use)
# ==============================================================================

# Sentry DSN for error tracking
# NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn

# Analytics tracking ID
# NEXT_PUBLIC_GA_TRACKING_ID=your-google-analytics-id

# ==============================================================================
# QUICK START GUIDE
# ==============================================================================
#
# FOR DEVELOPMENT (Local PostgreSQL):
# 1. Install PostgreSQL: https://www.postgresql.org/download/
# 2. Create database: createdb parkboard
# 3. Set DATABASE_URL to your local connection string
# 4. Run migrations: ./scripts/migrate.sh
# 5. Start dev server: npm run dev
#
# FOR PRODUCTION (Supabase):
# 1. Create Supabase project: https://supabase.com/dashboard
# 2. Get API keys from Project Settings → API
# 3. Set NEXT_PUBLIC_SUPABASE_URL and keys
# 4. Run migrations via Supabase Dashboard → SQL Editor
# 5. Deploy to Vercel/your hosting platform
#
# FOR TESTING NEON:
# 1. Create Neon project: https://neon.tech
# 2. Copy connection string from dashboard
# 3. Set DATABASE_URL with Neon connection string
# 4. Run migrations: ./scripts/migrate.sh
#
# ==============================================================================
# SECURITY NOTES
# ==============================================================================
#
# ⚠️  NEVER commit .env.local to git
# ⚠️  NEVER expose SUPABASE_SERVICE_ROLE_KEY to client
# ⚠️  Use environment variables in CI/CD (GitHub Secrets, Vercel Env Vars)
# ⚠️  Rotate keys regularly in production
# ⚠️  Use different keys for development/staging/production
#
# ==============================================================================
